= simple_form_for :survey, url: '', html: {"ng-submit" => "saveSurvey()"} do |f|
  = f.input :title, input_html: {"ng-model" => "survey.title"}
  .respondents(ng-repeat="respondent in survey.respondents")
    = f.simple_fields_for :respondents, Respondent.new do |ff|
      .respondent.row(ng-hide="respondent._destroy")
        = ff.hidden_field :id, {"ng-model" => "respondent.id"}
        = ff.input :name, wrapper_html: {class: 'col-xs-7'}, input_html: {"ng-model" => "respondent.name"}
        = ff.input :email, wrapper_html: {class: 'col-xs-4'}, input_html: {"ng-model" => "respondent.email"}
        .col-xs-1
          %a.btn.btn-danger.btn-xs(ng-click="remove_respondent(respondent)" type="button")
            %span.glyphicon.glyphicon-trash
  .btn-group
    %a.btn.btn-default(ng-click="add_respondent()")
      %span.glyphicon.glyphicon-user
      +
    = f.submit class: "btn btn-primary"
